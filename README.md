# My Awesome Book

This file file serves as your book's preface, a great place to describe your book's content and ideas.



&lt;!--  
 /\* Font Definitions \*/  
 @font-face  
	{font-family:宋体;  
	panose-1:2 1 6 0 3 1 1 1 1 1;  
	mso-font-alt:SimSun;  
	mso-font-charset:134;  
	mso-generic-font-family:auto;  
	mso-font-pitch:variable;  
	mso-font-signature:3 680460288 22 0 262145 0;}  
@font-face  
	{font-family:宋体;  
	panose-1:2 1 6 0 3 1 1 1 1 1;  
	mso-font-alt:SimSun;  
	mso-font-charset:134;  
	mso-generic-font-family:auto;  
	mso-font-pitch:variable;  
	mso-font-signature:3 680460288 22 0 262145 0;}  
@font-face  
	{font-family:新宋体;  
	panose-1:2 1 6 9 3 1 1 1 1 1;  
	mso-font-charset:134;  
	mso-generic-font-family:modern;  
	mso-font-pitch:fixed;  
	mso-font-signature:643 680460288 22 0 262145 0;}  
@font-face  
	{font-family:"\@宋体";  
	panose-1:2 1 6 0 3 1 1 1 1 1;  
	mso-font-charset:134;  
	mso-generic-font-family:auto;  
	mso-font-pitch:variable;  
	mso-font-signature:3 680460288 22 0 262145 0;}  
@font-face  
	{font-family:"\@新宋体";  
	panose-1:2 1 6 9 3 1 1 1 1 1;  
	mso-font-charset:134;  
	mso-generic-font-family:modern;  
	mso-font-pitch:fixed;  
	mso-font-signature:643 680460288 22 0 262145 0;}  
 /\* Style Definitions \*/  
 p.MsoNormal, li.MsoNormal, div.MsoNormal  
	{mso-style-unhide:no;  
	mso-style-qformat:yes;  
	mso-style-parent:"";  
	margin:0cm;  
	margin-bottom:.0001pt;  
	text-align:justify;  
	text-justify:inter-ideograph;  
	mso-pagination:none;  
	font-size:10.5pt;  
	mso-bidi-font-size:12.0pt;  
	font-family:"Times New Roman","serif";  
	mso-fareast-font-family:宋体;  
	mso-font-kerning:1.0pt;}  
h3  
	{mso-style-unhide:no;  
	mso-style-qformat:yes;  
	mso-style-link:"标题 3 Char";  
	mso-style-next:正文;  
	margin-top:13.0pt;  
	margin-right:0cm;  
	margin-bottom:13.0pt;  
	margin-left:0cm;  
	text-align:justify;  
	text-justify:inter-ideograph;  
	line-height:173%;  
	mso-pagination:lines-together;  
	page-break-after:avoid;  
	mso-outline-level:3;  
	font-size:16.0pt;  
	font-family:"Times New Roman","serif";  
	mso-font-kerning:1.0pt;}  
span.3Char  
	{mso-style-name:"标题 3 Char";  
	mso-style-unhide:no;  
	mso-style-locked:yes;  
	mso-style-link:"标题 3";  
	mso-ansi-font-size:16.0pt;  
	mso-bidi-font-size:16.0pt;  
	mso-font-kerning:1.0pt;  
	font-weight:bold;}  
.MsoChpDefault  
	{mso-style-type:export-only;  
	mso-default-props:yes;  
	font-size:10.0pt;  
	mso-ansi-font-size:10.0pt;  
	mso-bidi-font-size:10.0pt;  
	mso-ascii-font-family:"Times New Roman";  
	mso-fareast-font-family:宋体;  
	mso-hansi-font-family:"Times New Roman";  
	mso-font-kerning:0pt;}  
 /\* Page Definitions \*/  
 @page  
	{mso-page-border-surround-header:no;  
	mso-page-border-surround-footer:no;}  
@page WordSection1  
	{size:595.3pt 841.9pt;  
	margin:72.0pt 90.0pt 72.0pt 90.0pt;  
	mso-header-margin:42.55pt;  
	mso-footer-margin:49.6pt;  
	mso-paper-source:0;  
	layout-grid:15.6pt;}  
div.WordSection1  
	{page:WordSection1;}  
 /\* List Definitions \*/  
 @list l0  
	{mso-list-id:618755693;  
	mso-list-type:hybrid;  
	mso-list-template-ids:-2057380630 67698707 67698713 67698715 67698703 67698713 67698715 67698703 67698713 67698715;}  
@list l0:level1  
	{mso-level-number-format:chinese-counting-thousand;  
	mso-level-text:%1、;  
	mso-level-tab-stop:21.0pt;  
	mso-level-number-position:left;  
	margin-left:21.0pt;  
	text-indent:-21.0pt;}  
@list l0:level2  
	{mso-level-number-format:alpha-lower;  
	mso-level-text:"%2\\)";  
	mso-level-tab-stop:42.0pt;  
	mso-level-number-position:left;  
	margin-left:42.0pt;  
	text-indent:-21.0pt;}  
@list l0:level3  
	{mso-level-number-format:roman-lower;  
	mso-level-tab-stop:63.0pt;  
	mso-level-number-position:right;  
	margin-left:63.0pt;  
	text-indent:-21.0pt;}  
@list l0:level4  
	{mso-level-tab-stop:84.0pt;  
	mso-level-number-position:left;  
	margin-left:84.0pt;  
	text-indent:-21.0pt;}  
@list l0:level5  
	{mso-level-number-format:alpha-lower;  
	mso-level-text:"%5\\)";  
	mso-level-tab-stop:105.0pt;  
	mso-level-number-position:left;  
	margin-left:105.0pt;  
	text-indent:-21.0pt;}  
@list l0:level6  
	{mso-level-number-format:roman-lower;  
	mso-level-tab-stop:126.0pt;  
	mso-level-number-position:right;  
	margin-left:126.0pt;  
	text-indent:-21.0pt;}  
@list l0:level7  
	{mso-level-tab-stop:147.0pt;  
	mso-level-number-position:left;  
	margin-left:147.0pt;  
	text-indent:-21.0pt;}  
@list l0:level8  
	{mso-level-number-format:alpha-lower;  
	mso-level-text:"%8\\)";  
	mso-level-tab-stop:168.0pt;  
	mso-level-number-position:left;  
	margin-left:168.0pt;  
	text-indent:-21.0pt;}  
@list l0:level9  
	{mso-level-number-format:roman-lower;  
	mso-level-tab-stop:189.0pt;  
	mso-level-number-position:right;  
	margin-left:189.0pt;  
	text-indent:-21.0pt;}  
@list l1  
	{mso-list-id:1568415619;  
	mso-list-type:hybrid;  
	mso-list-template-ids:-2051520068 -2063164994 67698713 67698715 67698703 67698713 67698715 67698703 67698713 67698715;}  
@list l1:level1  
	{mso-level-tab-stop:39.0pt;  
	mso-level-number-position:left;  
	margin-left:39.0pt;  
	text-indent:-18.0pt;}  
@list l1:level2  
	{mso-level-number-format:alpha-lower;  
	mso-level-text:"%2\\)";  
	mso-level-tab-stop:63.0pt;  
	mso-level-number-position:left;  
	margin-left:63.0pt;  
	text-indent:-21.0pt;}  
@list l1:level3  
	{mso-level-number-format:roman-lower;  
	mso-level-tab-stop:84.0pt;  
	mso-level-number-position:right;  
	margin-left:84.0pt;  
	text-indent:-21.0pt;}  
@list l1:level4  
	{mso-level-tab-stop:105.0pt;  
	mso-level-number-position:left;  
	margin-left:105.0pt;  
	text-indent:-21.0pt;}  
@list l1:level5  
	{mso-level-number-format:alpha-lower;  
	mso-level-text:"%5\\)";  
	mso-level-tab-stop:126.0pt;  
	mso-level-number-position:left;  
	margin-left:126.0pt;  
	text-indent:-21.0pt;}  
@list l1:level6  
	{mso-level-number-format:roman-lower;  
	mso-level-tab-stop:147.0pt;  
	mso-level-number-position:right;  
	margin-left:147.0pt;  
	text-indent:-21.0pt;}  
@list l1:level7  
	{mso-level-tab-stop:168.0pt;  
	mso-level-number-position:left;  
	margin-left:168.0pt;  
	text-indent:-21.0pt;}  
@list l1:level8  
	{mso-level-number-format:alpha-lower;  
	mso-level-text:"%8\\)";  
	mso-level-tab-stop:189.0pt;  
	mso-level-number-position:left;  
	margin-left:189.0pt;  
	text-indent:-21.0pt;}  
@list l1:level9  
	{mso-level-number-format:roman-lower;  
	mso-level-tab-stop:210.0pt;  
	mso-level-number-position:right;  
	margin-left:210.0pt;  
	text-indent:-21.0pt;}  
ol  
	{margin-bottom:0cm;}  
ul  
	{margin-bottom:0cm;}  
--&gt;  


**银行代收接口**

### 业务规则：

代理水费业务共分为五个交易：

a\)查询交易

1.银行端送交易码7771；

2.水公司根据交易码查询用户相关欠费信息及明细数据，返回给银行段，且最多三个计费周期的数据，超过三个周期不予代收；

3.如水公司查询结果异常，返回响应码且标明详细的错误原因，具体在后面中指明。

b\)缴费交易

1.银行端送交易码7772；

2.水公司根据交易码进行销账，然后返回响应码给银行，银行记录相应得交易日期和主机流水号等信息；

3.如水公司销账异常，返回响应码且标明详细错误原因，具体在后面指明。

c\)冲正交易

1.银行端送交易码7773；

2.水公司根据交易码中交易日期和主机流水号进行冲正处理，然后返回响应码给银行；

3.银行对于冲正交易，强行认为成功，不得报错，如果没有冲正没有成功，水公司在对账当天对此笔业务进行处理。

d\)用户签约

1.银行端送交易码7774；

2.水公司根据交易码处理签约业务，然后返回响应码给银行；

3.如水司签约异常，返回响应码且标明详细错误原因，具体在后面指明。

e\)用户解约

1.银行端送交易码7775；

2.水公司根据交易码处理解约业务，然后返回响应码给银行；

3.如水司签约异常，返回响应码且标明详细错误原因，具体在后面指明。

f\)用户签约查询核准

1.银行端送交易码7776；

2.水公司根据交易码处理签约查询核准业务，然后返回响应码给银行；

3.如水司签约异常，返回响应码且标明详细错误原因，具体在后面指明。

g\)用户解约查询核准

1.银行端送交易码7777；

2.水公司根据交易码处理解约查询核准业务，然后返回响应码给银行；

3.如水司签约异常，返回响应码且标明详细错误原因，具体在后面指明。













### 报文格式：

报文编写规则：所有字段长度固定，若字段为空，全部补空格，长度不足的前补空格。

固定值：银行编号：MYBANK密码：ABCDEF1234567890

一、查询交易：（请求报文格式）

| 字段名 | 说明 | 字段类型 | 长度 | 备注 |
| :--- | :--- | :--- | :--- | :--- |
|  | 包长度 | Char | 4 | 62 |
|  | 交易码 | Char | 4 |  |
|  | 交易日期 | Char | 8 |  |
|  | 银行编号 | Char | 10 |  |
|  | 密码 | Char | 16 |  |
|  | 用户编号 | Char | 20 |  |

查询交易：（应答报文格式）

| 字段名 | 说明 | 字段类型 | 长度 | 备注 |
| :--- | :--- | :--- | :--- | :--- |
|  | 包长度 | Char | 4 | 557 |
|  | 交易码 | Char | 4 |  |
|  | 交易日期 | Char | 8 |  |
|  | 响应码 | Char | 10 | 0000000000成功0000000001报文信息错0000000002系统服务未启动0000000003用户无欠费0000000004 计费周期超过三个周期0000000005其他错误 |
|  | 响应信息 | Char | 60 | 失败只有这几个字段 |
|  | 用户编号 | Char | 20 |  |
|  | 用户名称 | Char | 60 |  |
|  | 欠费总水量 | Char | 20 |  |
|  | 欠费总金额 | Char | 20 |  |
|  | 欠费记录数 | Char | 1 |  |
|  | 水利局ID | Char | 32 |  |
|  | 记录1周期 | Char | 6 |  |
|  | 记录1欠费起度 | Char | 20 |  |
|  | 记录1欠费止度 | Char | 20 |  |
|  | 记录1欠费水量 | Char | 20 |  |
|  | 记录1欠费金额 | Char | 20 |  |
|  | 记录1违约金 | Char | 20 |  |
|  | 记录2周期 | Char | 6 | 如果只有一条，以下没有 |
|  | 记录2欠费起度 | Char | 20 |  |
|  | 记录2欠费止度 | Char | 20 |  |
|  | 记录2欠费水量 | Char | 20 |  |
|  | 记录2欠费金额 | Char | 20 |  |
|  | 记录2违约金 | Char | 20 |  |
|  | 记录3周期 | Char | 6 |  |
|  | 记录3欠费起度 | Char | 20 |  |
|  | 记录3欠费止度 | Char | 20 |  |
|  | 记录3欠费水量 | Char | 20 |  |
|  | 记录3欠费金额 | Char | 20 |  |
|  | 记录3违约金 | Char | 20 |  |

二、缴费交易：（请求报文格式）

| 字段名 | 说明 | 字段类型 | 长度 | 备注 |
| :--- | :--- | :--- | :--- | :--- |
|  | 包长度 | Char | 4 | 126 |
|  | 交易码 | Char | 4 |  |
|  | 交易日期 | Char | 8 |  |
|  | 银行编号 | Char | 10 |  |
|  | 密码 | Char | 16 |  |
|  | 用户编号 | Char | 20 |  |
|  | 缴费总金额 | Char | 20 |  |
|  | 水利局ID | Char | 32 |  |
|  | 主机流水号 | Char | 12 | 实际支持9位对账唯一索引 |



缴费交易：（应答报文格式）

| 字段名 | 说明 | 字段类型 | 长度 | 备注 |
| :--- | :--- | :--- | :--- | :--- |
|  | 包长度 | Char | 4 | 186 |
|  | 交易码 | Char | 4 |  |
|  | 交易日期 | Char | 8 |  |
|  | 响应码 | Char | 10 |  |
|  | 响应信息 | Char | 60 |  |
|  | 用户编号 | Char | 20 |  |
|  | 用户名称 | Char | 60 |  |
|  | 当前余额 | Char | 20 |  |



三、冲正交易：（请求报文格式）

| 字段名 | 说明 | 字段类型 | 长度 | 备注 |
| :--- | :--- | :--- | :--- | :--- |
|  | 包长度 | Char | 4 | 86 |
|  | 交易码 | Char | 4 |  |
|  | 交易日期 | Char | 8 |  |
|  | 银行编号 | Char | 10 |  |
|  | 密码 | Char | 16 |  |
|  | 主机流水号 | Char | 12 | 对账唯一索引 |
|  | 水利局ID | Char | 32 |  |







冲正交易：（应答报文格式）

| 字段名 | 说明 | 字段类型 | 长度 | 备注 |
| :--- | :--- | :--- | :--- | :--- |
|  | 包长度 | Char | 4 | 82 |
|  | 交易码 | Char | 4 |  |
|  | 响应码 | Char | 10 |  |
|  | 响应信息 | Char | 60 |  |

四、用户签约：（请求报文格式）

| 字段名 | 说明 | 字段类型 | 长度 | 备注 |
| :--- | :--- | :--- | :--- | :--- |
|  | 包长度 | Char | 4 | 126 |
|  | 交易码 | Char | 4 |  |
|  | 交易日期 | Char | 8 |  |
|  | 银行编号 | Char | 10 |  |
|  | 密码 | Char | 16 |  |
|  | 主机流水号 | Char | 12 | 对账唯一索引 |
|  | 水利局ID | Char | 32 |  |
|  | 用户编号 | Char | 20 |  |
|  | 银行帐号 | char | 20 |  |



用户签约：（应答报文格式）

| 字段名 | 说明 | 字段类型 | 长度 | 备注 |
| :--- | :--- | :--- | :--- | :--- |
|  | 包长度 | Char | 4 | 18 |
|  | 交易码 | Char | 4 |  |
|  | 响应码 | Char | 10 | 0000000000成功0000000001报文信息错0000000002 系统服务未启动0000000003用户已签约0000000004其他错误 |

五、用户解约：（请求报文格式）

| 字段名 | 说明 | 字段类型 | 长度 | 备注 |
| :--- | :--- | :--- | :--- | :--- |
|  | 包长度 | Char | 4 | 106 |
|  | 交易码 | Char | 4 |  |
|  | 交易日期 | Char | 8 |  |
|  | 银行编号 | Char | 10 |  |
|  | 密码 | Char | 16 |  |
|  | 主机流水号 | Char | 12 | 对账唯一索引 |
|  | 水利局ID | Char | 32 |  |
|  | 用户编号 | Char | 20 |  |





用户解约（应答报文格式）

| 字段名 | 说明 | 字段类型 | 长度 | 备注 |
| :--- | :--- | :--- | :--- | :--- |
|  | 包长度 | Char | 4 | 18 |
|  | 交易码 | Char | 4 |  |
|  | 响应码 | Char | 10 | 0000000000成功0000000001报文信息错0000000002 系统服务未启动0000000003用户没有签约0000000004其他错误 |



用户签解约查询核准（请求报文格式）

| 字段名 | 说明 | 字段类型 | 长度 | 备注 |
| :--- | :--- | :--- | :--- | :--- |
|  | 包长度 | Char | 4 | 62 |
|  | 交易码 | Char | 4 | 签约解约分开 |
|  | 交易日期 | Char | 8 |  |
|  | 银行编号 | Char | 10 |  |
|  | 密码 | Char | 16 |  |
|  | 用户编号 | Char | 20 |  |



用户签解约查询核准（应答报文格式）

| 字段名 | 说明 | 字段类型 | 长度 | 备注 |
| :--- | :--- | :--- | :--- | :--- |
|  | 包长度 | Char | 4 | 78 |
|  | 交易码 | Char | 4 |  |
|  | 响应码 | Char | 10 |  |
|  | 用户名称 | Char | 60 |  |





















错误代码定义：

/\*错误码定义

 0000000000成功/正常

 0000000001报文信息错

 0000000002系统服务未启动

 0000000003用户无欠费

 0000000004计费周期超过三个周期

 0000000005其他错误

 0000000006无此流水号或已冲正

0000000007用户已签约

 0000000008用户已解约

 0000000009非当天收费不可冲正

 0000000010非本银行签约用户不可解约

 \*/



 0000000000成功

 0000000001报文信息错

 0000000002系统服务未启动

 0000000003用户无欠费

0000000004计费周期超过三个周期

 0000000005其他错误

 0000000006无此流水号或已冲正

 0000000007用户已签约

 0000000008用户已解约

 0000000009非当天收费不可冲正

 0000000010非本银行签约用户不可解约

 0000000011系统无此用户编号

 0000000012系统无此银行编码



![](file:///C:\Users\ADMINI~1\AppData\Local\Temp\msohtmlclip1\01\clip_image002.jpg)

